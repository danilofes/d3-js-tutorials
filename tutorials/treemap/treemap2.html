<html>
<head>
<title>Treemap</title>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8">
<style>
.treemap-rect {
  fill:gray;
  stroke:black;
  stroke-width:1;
}
</style>
<script src="../lib/jquery-1.11.2.min.js"></script>
<script src="../lib/d3.v3.min.js" charset="utf-8"></script>
</head>
<body>

<svg class="treemap"></svg>

<script type="text/javascript">
var root = {
	"name": "danilo",
	"children": [
	    {"name": "laranja", "value": 5},
	    {"name": "banana", "value": 1},
	    {"name": "tomate", "children": [
              {"name": "pera", "value": 2}
         ]
	    }
	]
};

var width = 600;
var height = 600;

var treemap = d3.layout.treemap()
    .size([width, height])
    .padding(5);

var selection = d3.select(".treemap")
	.attr("width", width + "px")
	.attr("height", height + "px")
	.selectAll("rect.treemap-rect").data(treemap.nodes(root));

selection.enter().append("rect")
	.attr("class", "treemap-rect")
	.attr("x", function(d) {return d.x;})
	.attr("y", function(d) {return d.y;})
	.attr("width", function(d) {return d.dx;})
	.attr("height", function(d) {return d.dy;});
</script>

</body>
</html>